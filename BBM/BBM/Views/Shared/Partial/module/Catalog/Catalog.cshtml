<script src=@Url.Content("~/Scripts/module/Catalog/m.Catalog.js")></script>
<script src=@Url.Content("~/Scripts/module/Catalog/mv.Catalog.js")></script>
<script>
    var catalog = new Catalog.mvCatalog();
    $(document).ready(function () {
        catalog.Start();
    });
</script>
<div id="CatalogViewId" class="row-fluid">
    <div class="span6">

        <div class="text-right padding5px">
            <button class="btn btn-success" data-bind="click : AddCatalog">Thêm Nhóm</button>
            <button class="btn btn-primary" data-bind="click: Refesh"><i class="icon-refresh"></i></button>
        </div>

        <div class="row-fluid">
            <div class="table-header">
                Nhóm sản phẩm
            </div>
            <div class="row-fluid">
                <div class="row-fluid">
                    <div class="span11 m-10-px">
                        <!--ko template: {name: 'Filter_Search', data: FilterProduct } --><!--/ko-->
                    </div>
                </div>
            </div>
            <!--ko template: {name: 'dataTables', data:catalog.TmpTable } --><!--/ko-->
        </div>
    </div>
    <div id="AddCatalog" class="modal fade hide">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body" data-bind="with: mCatalog">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <div class="span12">
                        <span class="span4 text-right">Tên Nhóm: </span>
                        <div class="span8"> <input type="text" data-bind="value: Name" /></div>
                    </div>
                </div>

            </div>
            <!-- dialog buttons -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger btnCancel">Hủy</button>
                <button type="button" class="btn btn-primary btnOk">OK</button>
            </div>
        </div>
    </div>
</div>
<script id="table_Catalog" type="text/html">
    <thead>
        <tr>
            <th class="sorting" data-bind="click: function(){ Sortby('Name'); SortbyDesc(SortbyDesc()?false:true)}">Name</th>
        </tr>
    </thead>
    <tbody>
        <!--ko foreach: listData() -->
        <tr data-bind="click: $parents[1].GetDetail, attr:{class: IsViewDetail()?'headDetail cursor-pointer':'cursor-pointer'}">
            <td>
                <span data-bind="text: Name"></span>
            </td>
        </tr>
        <!--ko if: IsViewDetail-->
        <tr class="footerDetail">
            <td colspan="7">
                <div class="tabbable">
                    <ul class="nav nav-tabs" id="myTab">
                        <li class="active">
                            <a data-toggle="tab" href="#info">
                                Thông tin
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div id="info" class="tab-pane in active">
                            <div>
                                <div class="span4 text-right">Name: </div>
                                <div class="span8 text-left"> <input type="text" data-bind="value: Name" /></div>
                            </div>
                            <div class="right">
                                <button class="btn btn-danger" data-bind="click: $parents[1].DeleteCatalog">Xóa</button>
                                <button class="btn btn-success" data-bind="click: $parents[1].UpdateCatalog">Cập nhật</button>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        <!--/ko-->
        <!--/ko-->
    </tbody>
</script>


